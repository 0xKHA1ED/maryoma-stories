<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>El Ratón Ramón y el Pirata Inmóvil</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .story-title { font-family: 'Lora', serif; }
        .story-content { font-family: 'Lora', serif; }

        /* Custom styles for the range input (seek bar) */
        .seek-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 5px;
            background: #d1fae5;
            outline: none;
            opacity: 0.8;
            transition: opacity .2s;
            border-radius: 5px;
            cursor: pointer;
        }

        .seek-slider:hover {
            opacity: 1;
        }

        .seek-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            background: #10b981;
            border-radius: 50%;
        }

        .seek-slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            background: #10b981;
            border: none;
            border-radius: 50%;
        }
    </style>
</head>
<body class="bg-emerald-50 text-gray-800 pb-24">

    <div class="container mx-auto px-4 py-8 md:py-16">
        <main class="max-w-3xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden">
            <div class="p-8 md:p-12">

                <!-- Header with Title and Icon -->
                <header class="text-center mb-8">
                    <img src="../../assets/icon.png" alt="Story Image" class="w-24 h-24 rounded-full object-cover mx-auto mb-4 shadow-md border-4 border-white">
                    <h1 class="story-title text-3xl md:text-4xl font-bold text-emerald-800">El Ratón Ramón y el Pirata Inmóvil</h1>
                </header>

                <!-- Story Content -->
                <div class="story-content text-lg leading-relaxed text-gray-700 space-y-4">
                    
                <div class="translatable-block">
                    <p data-translation="In a large field of golden corn lived a tiny mouse named Ramón. He was so small and quiet that his footsteps were like a soft breath of wind. Ramón was a very curious mouse who loved to explore.">En un gran campo de maíz dorado vivía un ratón diminuto llamado Ramón. Era tan pequeño y silencioso que sus pasos eran como un suave soplo de viento. Ramón era un ratón muy curioso al que le encantaba explorar.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="One sunny morning, Ramón saw something new in the middle of the field. It was a tall figure on a wooden pole. The figure wore a big hat, raggedy clothes, and a black patch over one eye. &quot;Wow!&quot; whispered Ramón. &quot;It's a pirate!&quot;">Una mañana de sol, Ramón vio algo nuevo en medio del campo. Era una figura alta sobre un palo de madera. La figura tenía un sombrero grande, ropa vieja y un parche negro en un ojo. «¡Guau!», susurró Ramón. «¡Es un pirata!»</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/14/images/1.png" alt="El Ratón Ramón mirando sorprendido a un espantapájaros que parece un pirata." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Ramón was not afraid. He thought, &quot;A pirate in our field! He must be here for our protection! He will protect us from the big birds!&quot; Ramón decided to call him the Brave Pirate. But the Brave Pirate did not move. He just stood there, high on his pole.">Ramón no tenía miedo. Él pensó: «¡Un pirata en nuestro campo! ¡Debe estar aquí para nuestra protección! ¡Nos protegerá de los pájaros grandes!». Ramón decidió llamarlo el Pirata Valiente. Pero el Pirata Valiente no se movía. Solo estaba allí, en lo alto de su palo.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="&quot;Oh, I understand!&quot; Ramón thought. &quot;He has a problem with gravity! Gravity isn't working for him, so he can't come down. I must help him! I will fix gravity!&quot; And with this very important mission, Ramón ran to find his friends.">«¡Oh, ya entiendo!», pensó Ramón. «¡Tiene un problema con la gravedad! La gravedad no funciona para él, por eso no puede bajar. ¡Debo ayudarlo! ¡Voy a arreglar la gravedad!». Y con esta misión tan importante, Ramón corrió a buscar a sus amigos.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/14/images/2.png" alt="Un primer plano del Ratón Ramón con una expresión decidida y una bombilla sobre su cabeza." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="First, he found Adela the squirrel. &quot;Adela! Come quick!&quot; said Ramón. &quot;There is a Brave Pirate to protect us, but gravity is broken for him! We must help him get down!&quot; Adela looked at the pirate. &quot;A pirate for protection? What a great idea! Let's help!&quot; she said.">Primero, encontró a la ardilla Adela. «¡Adela! ¡Ven rápido!», dijo Ramón. «¡Hay un Pirata Valiente para protegernos, pero la gravedad está rota para él! ¡Debemos ayudarlo a bajar!». Adela miró al pirata. «¿Un pirata para la protección? ¡Qué buena idea! ¡Vamos a ayudar!», dijo ella.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Then, they found Carlos the rabbit. &quot;Carlos! We need your help!&quot; they shouted. &quot;We are fixing gravity for the Brave Pirate!&quot; Carlos wiggled his nose. &quot;Fixing gravity? That sounds very important! I will help!&quot; he said.">Luego, encontraron al conejo Carlos. «¡Carlos! ¡Necesitamos tu ayuda!», gritaron. «¡Estamos arreglando la gravedad para el Pirata Valiente!». Carlos movió su nariz. «¿Arreglar la gravedad? ¡Eso suena muy importante! ¡Yo ayudaré!», dijo él.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/14/images/3.png" alt="Ramón el ratón, Adela la ardilla y Carlos el conejo trabajando juntos en la base del poste del espantapájaros." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="The three friends worked hard. Adela climbed the pole and tried to pull the pirate. Carlos dug a hole around the pole to make it fall. But nothing happened. The pirate did not move. They were all very tired and sad.">Los tres amigos trabajaron mucho. Adela subió por el palo e intentó tirar del pirata. Carlos cavó un hoyo alrededor del palo para que se cayera. Pero no pasó nada. El pirata no se movió. Estaban todos muy cansados y tristes.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Suddenly, a soft voice said, &quot;Hoo hoo... What are you little ones doing?&quot; It was Bruno the owl, the wise judge of the forest. He was perched on a branch, looking down at them with his big, round eyes.">De repente, una voz suave dijo: «Hú hú... ¿Qué hacen ustedes, pequeños?». Era el búho Bruno, el sabio juez del bosque. Estaba posado en una rama, mirándolos con sus grandes ojos redondos.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/14/images/4.png" alt="El Búho Bruno, un búho sabio con gafas, mirando desde una rama de árbol al atardecer." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Ramón explained everything. &quot;We are trying to fix gravity to help the Brave Pirate come down and give us protection!&quot; Bruno the owl flew down. He looked at the pirate, and then at the tired friends, and he laughed a soft, kind laugh. &quot;Oh, little ones,&quot; he said gently.">Ramón le explicó todo. «¡Estamos intentando arreglar la gravedad para ayudar al Pirata Valiente a bajar y darnos protección!». El búho Bruno bajó volando. Miró al pirata, y luego a los amigos cansados, y soltó una risa suave y amable. «Oh, pequeños», dijo con dulzura.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="&quot;That is not a pirate. That is a scarecrow. <em>Un espantapájaros.</em> It's made of straw and old clothes to scare birds away from the corn. It's not for protection, and it is not alive. And gravity,&quot; Bruno added, &quot;is working perfectly. It's what keeps you on the ground and what keeps that pole in the dirt.&quot;">«Eso no es un pirata. Eso es un espantapájaros. <em>Un espantapájaros.</em> Está hecho de paja y ropa vieja para asustar a los pájaros y que no se coman el maíz. No es para dar protección, y no está vivo. Y la gravedad», añadió Bruno, «funciona perfectamente. Es lo que los mantiene a ustedes en el suelo y lo que mantiene ese palo en la tierra».</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/14/images/5.png" alt="Los tres animalitos mirando con sorpresa al búho mientras este les explica la verdad sobre el espantapájaros." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Ramón, Adela, and Carlos looked at the scarecrow, then at each other. They felt a little bit silly, but they also felt smart. They had learned something new. They thanked the wise owl and went home, understanding the world a little bit better.">Ramón, Adela y Carlos miraron al espantapájaros y luego se miraron entre ellos. Se sintieron un poco tontos, pero también se sintieron inteligentes. Habían aprendido algo nuevo. Dieron las gracias al búho sabio y se fueron a casa, entendiendo el mundo un poquito mejor.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                </div>

                <!-- Moral of the Story -->
                <footer class="mt-10 pt-6 border-t-2 border-emerald-100 text-center">
                    
                        <div class="translatable-block">
                            <p class="story-title text-xl italic text-emerald-700 font-semibold" data-translation="It is better to ask and understand the world, than to invent a story and work in vain.">Moraleja: Es mejor preguntar y entender el mundo, que inventar una historia y trabajar en vano.</p>
                            <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                            <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                        </div>
                </footer>
            </div>
        </main>
    </div>

    <!-- Sticky Audio Player -->
    <div class="fixed bottom-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-sm border-t border-gray-200">
        <div class="max-w-3xl mx-auto px-4 py-3">
             <!-- Audio element (hidden from view, controlled by JS) -->
            <audio id="audio-player" src="../../assets/stories/14/audio/story.mp3" preload="metadata"></audio>

            <!-- Custom Player Controls -->
            <div class="flex items-center gap-2 md:gap-4">
                <!-- Play/Pause Button -->
                <button id="play-pause-btn" class="flex-shrink-0 text-emerald-600 hover:text-emerald-800 transition-colors p-2 rounded-full hover:bg-emerald-100 focus:outline-none">
                    <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8.006v3.988a1 1 0 001.555.836l3.492-1.994a1 1 0 000-1.672l-3.492-1.994z" />
                    </svg>
                    <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1H8zm4 0a1 1 0 00-1 1v4a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1h-1z" />
                    </svg>
                </button>

                <!-- Progress Bar and Time -->
                <div class="flex items-center gap-2 w-full">
                    <span id="current-time" class="text-xs text-gray-600 font-mono w-10 text-center">0:00</span>
                    <input type="range" id="seek-slider" class="seek-slider w-full" value="0" step="1">
                    <span id="duration" class="text-xs text-gray-600 font-mono w-10 text-center">0:00</span>
                </div>
                
                <!-- Speed Controls -->
                <div class="flex items-center space-x-1 flex-shrink-0">
                     <button data-speed="0.75" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">0.75x</button>
                     <button data-speed="1" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-emerald-200 text-emerald-800 font-semibold transition-colors">1x</button>
                     <button data-speed="1.5" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">1.5x</button>
                     <button data-speed="2" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">2x</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Translation Logic ---
            const translateButtons = document.querySelectorAll('.translate-btn');
            translateButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const block = button.closest('.translatable-block');
                    const originalTextElement = block.querySelector('[data-translation]');
                    const translationTextElement = block.querySelector('.translation-text');
                    const translation = originalTextElement.getAttribute('data-translation');

                    if (translationTextElement.classList.contains('hidden')) {
                        translationTextElement.innerHTML = translation;
                        translationTextElement.classList.remove('hidden');
                        button.textContent = 'Ocultar';
                    } else {
                        translationTextElement.classList.add('hidden');
                        button.textContent = 'Traducir';
                    }
                });
            });

            // --- Modern Audio Player Logic ---
            const audioPlayer = document.getElementById('audio-player');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');
            const seekSlider = document.getElementById('seek-slider');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            const speedButtons = document.querySelectorAll('.speed-btn');

            const formatTime = (seconds) => {
                if (isNaN(seconds)) return '0:00';
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs.toString().padStart(2, '0')}`;
            };

            // Update UI when audio metadata is loaded
            audioPlayer.addEventListener('loadedmetadata', () => {
                durationEl.textContent = formatTime(audioPlayer.duration);
                seekSlider.max = audioPlayer.duration;
            });

            // Play/Pause functionality
            playPauseBtn.addEventListener('click', () => {
                if (audioPlayer.paused) {
                    audioPlayer.play();
                } else {
                    audioPlayer.pause();
                }
            });

            audioPlayer.addEventListener('play', () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            });

            audioPlayer.addEventListener('pause', () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            });

            // Update slider and time as audio plays
            audioPlayer.addEventListener('timeupdate', () => {
                seekSlider.value = audioPlayer.currentTime;
                currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
            });

            // Seek functionality
            seekSlider.addEventListener('input', () => {
                audioPlayer.currentTime = seekSlider.value;
            });

            // Speed control functionality
            speedButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const speed = parseFloat(button.dataset.speed);
                    audioPlayer.playbackRate = speed;

                    // Update button active styles
                    speedButtons.forEach(btn => {
                        btn.classList.remove('bg-emerald-200', 'text-emerald-800', 'font-semibold');
                        btn.classList.add('bg-gray-100');
                    });

                    button.classList.add('bg-emerald-200', 'text-emerald-800', 'font-semibold');
                    button.classList.remove('bg-gray-100');
                });
            });
        });
    </script>

</body>
</html>


