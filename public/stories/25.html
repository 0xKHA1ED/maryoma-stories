<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roco el Mapache y el Ladrón del Sur</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .story-title { font-family: 'Lora', serif; }
        .story-content { font-family: 'Lora', serif; }

        /* Custom styles for the range input (seek bar) */
        .seek-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 5px;
            background: #d1fae5;
            outline: none;
            opacity: 0.8;
            transition: opacity .2s;
            border-radius: 5px;
            cursor: pointer;
        }

        .seek-slider:hover {
            opacity: 1;
        }

        .seek-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            background: #10b981;
            border-radius: 50%;
        }

        .seek-slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            background: #10b981;
            border: none;
            border-radius: 50%;
        }
    </style>
</head>
<body class="bg-emerald-50 text-gray-800 pb-24">

    <div class="container mx-auto px-4 py-8 md:py-16">
        <main class="max-w-3xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden">
            <div class="p-8 md:p-12">

                <!-- Header with Title and Icon -->
                <header class="text-center mb-8">
                    <img src="../../assets/icon.png" alt="Story Image" class="w-24 h-24 rounded-full object-cover mx-auto mb-4 shadow-md border-4 border-white">
                    <h1 class="story-title text-3xl md:text-4xl font-bold text-emerald-800">Roco el Mapache y el Ladrón del Sur</h1>
                </header>

                <!-- Story Content -->
                <div class="story-content text-lg leading-relaxed text-gray-700 space-y-4">
                    
                <div class="translatable-block">
                    <p data-translation="Roco the raccoon lives in a green forest. He is a happy raccoon. What he loves most in the world is his face, especially the black fur around his eyes. 'It's my superhero mask,' he always says.">Roco el mapache vive en un bosque verde. Es un mapache feliz. Lo que más ama en el mundo es su cara, especialmente el pelo negro alrededor de sus ojos. «Es mi máscara de superhéroe», dice siempre.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/25/images/1.png" alt="Roco el mapache mirándose en el reflejo de una hoja brillante." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="One sunny afternoon, Roco goes to the big lake to drink some water. The water is very still and clear, like a mirror. He leans over and sees a face looking at him from the water. It has big eyes and a black 'mask'.">Una tarde de sol, Roco va al gran lago para beber agua. El agua está muy quieta y clara, como un espejo. Se inclina y ve una cara que lo mira desde el agua. Tiene ojos grandes y una 'máscara' negra.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Roco jumps back, very scared. 'Oh, no!' he cries. 'There's a thief in the water! And he has my face!' He doesn't understand that he is seeing his own reflection, the 'subject' in the water. He thinks it's a mysterious creature from the faraway South.">Roco salta hacia atrás, muy asustado. «¡Oh, no!», grita. «¡Hay un ladrón en el agua! ¡Y tiene mi cara!». Él no entiende que está viendo su propio reflejo, el 'sujeto' en el agua. Piensa que es una criatura misteriosa del lejano Sur.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/25/images/2.png" alt="Roco el mapache mira su reflejo en el lago con cara de susto." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Roco is angry and scared. 'That thief from the South is very mean! I must get my face back!' he decides. He remembers old stories that say monsters are afraid of bright light and fire. 'I need a great flame to scare him!' he thinks. He looks to the west, where the sun is beginning to set. 'The flame of the setting sun is perfect!'">Roco está enojado y asustado. «¡Ese ladrón del Sur es muy malo! ¡Debo recuperar mi cara!», decide. Recuerda viejas historias que dicen que los monstruos tienen miedo de la luz brillante y el fuego. «¡Necesito una gran llama para asustarlo!», piensa. Mira hacia el oeste, donde el sol empieza a bajar. «¡La llama del sol poniente es perfecta!».</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="He runs into the forest and finds his best friend, Sara the Squirrel, who is collecting nuts. 'Sara, Sara! Help me!' shouts Roco. Sara stops and looks at him. 'What's wrong, Roco? Why are you running?' Roco explains with big, panicked eyes: 'A monster from the South is in the lake and stole my mask! We have to find the great flame of the sun to scare him away!'">Corre por el bosque y encuentra a su mejor amiga, Sara la Ardilla, que está recogiendo nueces. «¡Sara, Sara! ¡Ayúdame!», grita Roco. Sara se detiene y lo mira. «¿Qué pasa, Roco? ¿Por qué corres?». Roco explica con ojos grandes y llenos de pánico: «¡Un monstruo del Sur está en el lago y robó mi máscara! ¡Tenemos que buscar la gran llama del sol para espantarlo!».</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/25/images/3.png" alt="Roco le explica frenéticamente su problema a Sara la ardilla." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Sara is a very good friend. She doesn't completely understand, but she sees that Roco is very worried. 'Don't worry, Roco,' she says. 'I will help you find that flame.' And so, the two friends run together toward the setting sun.">Sara es una muy buena amiga. No entiende completamente, pero ve que Roco está muy preocupado. «No te preocupes, Roco», dice ella. «Te ayudaré a encontrar esa llama». Y así, los dos amigos corren juntos hacia el sol poniente.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="A little later, they see Pedro the Bird resting on a branch. Pedro sees them running. 'Where are you going in such a hurry?' he sings. Roco doesn't stop. He shouts his urgent message again: 'Pedro, come with us! A monster from the South stole my face! We need the great flame of the sun to scare him away!'">Un poco después, ven a Pedro el Pájaro descansando en una rama. Pedro los ve corriendo. «¿A dónde van con tanta prisa?», canta. Roco no se detiene. Grita de nuevo su mensaje urgente: «¡Pedro, ven con nosotros! ¡Un monstruo del Sur robó mi cara! ¡Necesitamos la gran llama del sol para asustarlo!».</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Pedro is an adventurous bird. A monster? A great flame? It sounds exciting! 'I'm going too!' he chirps, and flies down to join them. Now, Roco the raccoon, Sara the squirrel, and Pedro the bird travel together on their important mission.">Pedro es un pájaro aventurero. ¿Un monstruo? ¿Una gran llama? ¡Suena emocionante! «¡Yo también voy!», gorjea, y baja volando para unirse a ellos. Ahora, Roco el mapache, Sara la ardilla y Pedro el pájaro viajan juntos en su importante misión.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/25/images/4.png" alt="Roco, Sara y Pedro corriendo juntos por el bosque al atardecer." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Finally, they arrive at the shore of the big lake. The sky is a beautiful spectacle of red, orange, and gold. It is a giant, silent 'flame' over the world. Roco looks carefully into the water. 'Look! The thief is still there!' he whispers, pointing a trembling paw. The face with the mask is still there.">Finalmente, llegan a la orilla del gran lago. El cielo es un hermoso espectáculo de rojo, naranja y dorado. Es una 'llama' gigante y silenciosa sobre el mundo. Roco mira con cuidado dentro del agua. «¡Miren! ¡El ladrón todavía está ahí!», susurra, apuntando con una pata temblorosa. La cara con la máscara sigue allí.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Just then, two beautiful white swans swim near the shore. They move gracefully, side by side, their necks almost forming a heart. They are the swans in love, known in the forest for their calm and wise nature. Their presence is full of peace and romance.">Justo en ese momento, dos hermosos cisnes blancos nadan cerca de la orilla. Se mueven con gracia, uno al lado del otro, sus cuellos casi formando un corazón. Son los cisnes enamorados, conocidos en el bosque por su naturaleza tranquila y sabia. Su presencia está llena de paz y romance.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/25/images/5.png" alt="Dos cisnes enamorados en el lago al atardecer, con Roco y sus amigos en la orilla." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="One of the swans turns its elegant head toward the little group. Her voice is soft like the water. 'Hello, little friends. Why is there so much panic on such a lovely evening?' Roco, still trembling, points at the water. 'That monster from the South has my face!'">Uno de los cisnes gira su elegante cabeza hacia el pequeño grupo. Su voz es suave como el agua. «Hola, pequeños amigos. ¿Por qué hay tanto pánico en una tarde tan bonita?». Roco, todavía temblando, apunta al agua. «¡Ese monstruo del Sur tiene mi cara!».</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="The swan smiled gently. He swam closer and spoke. 'What you see is not a monster, brave raccoon. It is your reflection. It is your own face, the 'subject' that the water shows. The lake is a giant mirror.'">El cisne sonrió amablemente. Nadó más cerca y habló. «Eso que ves no es un monstruo, valiente mapache. Es tu reflejo. Es tu propia cara, el 'sujeto' que el agua muestra. El lago es un espejo gigante».</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Roco looks at the swan, then at the water. He slowly lifts his paw to his mask. The face in the water does the same. He waves, and the reflection waves back. Suddenly, he understands. He isn't in danger. He feels a little silly, but also very happy. His friends, Sara and Pedro, start to laugh, and soon Roco laughs too. His mask was safe all along.">Roco mira al cisne, luego al agua. Lentamente levanta su pata hacia su máscara. La cara en el agua hace lo mismo. Él saluda con la pata, y el reflejo le devuelve el saludo. De repente, lo entiende. No está en peligro. Se siente un poco tonto, pero también muy feliz. Sus amigos, Sara y Pedro, empiezan a reír, y pronto Roco ríe también. Su máscara estuvo a salvo todo el tiempo.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                </div>

                <!-- Moral of the Story -->
                <footer class="mt-10 pt-6 border-t-2 border-emerald-100 text-center">
                    
                        <div class="translatable-block">
                            <p class="story-title text-xl italic text-emerald-700 font-semibold" data-translation="Sometimes, our biggest fears are just a misunderstanding of who we are.">A veces, nuestros mayores miedos son solo un malentendido de quiénes somos.</p>
                            <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                            <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                        </div>
                </footer>
            </div>
        </main>
    </div>

    <!-- Sticky Audio Player -->
    <div class="fixed bottom-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-sm border-t border-gray-200">
        <div class="max-w-3xl mx-auto px-4 py-3">
             <!-- Audio element (hidden from view, controlled by JS) -->
            <audio id="audio-player" src="../../assets/stories/25/audio/story.mp3" preload="metadata"></audio>

            <!-- Custom Player Controls -->
            <div class="flex items-center gap-2 md:gap-4">
                <!-- Play/Pause Button -->
                <button id="play-pause-btn" class="flex-shrink-0 text-emerald-600 hover:text-emerald-800 transition-colors p-2 rounded-full hover:bg-emerald-100 focus:outline-none">
                    <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8.006v3.988a1 1 0 001.555.836l3.492-1.994a1 1 0 000-1.672l-3.492-1.994z" />
                    </svg>
                    <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1H8zm4 0a1 1 0 00-1 1v4a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1h-1z" />
                    </svg>
                </button>

                <!-- Progress Bar and Time -->
                <div class="flex items-center gap-2 w-full">
                    <span id="current-time" class="text-xs text-gray-600 font-mono w-10 text-center">0:00</span>
                    <input type="range" id="seek-slider" class="seek-slider w-full" value="0" step="1">
                    <span id="duration" class="text-xs text-gray-600 font-mono w-10 text-center">0:00</span>
                </div>
                
                <!-- Speed Controls -->
                <div class="flex items-center space-x-1 flex-shrink-0">
                     <button data-speed="0.75" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">0.75x</button>
                     <button data-speed="1" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-emerald-200 text-emerald-800 font-semibold transition-colors">1x</button>
                     <button data-speed="1.5" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">1.5x</button>
                     <button data-speed="2" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">2x</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Translation Logic ---
            const translateButtons = document.querySelectorAll('.translate-btn');
            translateButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const block = button.closest('.translatable-block');
                    const originalTextElement = block.querySelector('[data-translation]');
                    const translationTextElement = block.querySelector('.translation-text');
                    const translation = originalTextElement.getAttribute('data-translation');

                    if (translationTextElement.classList.contains('hidden')) {
                        translationTextElement.innerHTML = translation;
                        translationTextElement.classList.remove('hidden');
                        button.textContent = 'Ocultar';
                    } else {
                        translationTextElement.classList.add('hidden');
                        button.textContent = 'Traducir';
                    }
                });
            });

            // --- Modern Audio Player Logic ---
            const audioPlayer = document.getElementById('audio-player');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');
            const seekSlider = document.getElementById('seek-slider');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            const speedButtons = document.querySelectorAll('.speed-btn');

            const formatTime = (seconds) => {
                if (isNaN(seconds)) return '0:00';
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs.toString().padStart(2, '0')}`;
            };

            // Update UI when audio metadata is loaded
            audioPlayer.addEventListener('loadedmetadata', () => {
                durationEl.textContent = formatTime(audioPlayer.duration);
                seekSlider.max = audioPlayer.duration;
            });

            // Play/Pause functionality
            playPauseBtn.addEventListener('click', () => {
                if (audioPlayer.paused) {
                    audioPlayer.play();
                } else {
                    audioPlayer.pause();
                }
            });

            audioPlayer.addEventListener('play', () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            });

            audioPlayer.addEventListener('pause', () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            });

            // Update slider and time as audio plays
            audioPlayer.addEventListener('timeupdate', () => {
                seekSlider.value = audioPlayer.currentTime;
                currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
            });

            // Seek functionality
            seekSlider.addEventListener('input', () => {
                audioPlayer.currentTime = seekSlider.value;
            });

            // Speed control functionality
            speedButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const speed = parseFloat(button.dataset.speed);
                    audioPlayer.playbackRate = speed;

                    // Update button active styles
                    speedButtons.forEach(btn => {
                        btn.classList.remove('bg-emerald-200', 'text-emerald-800', 'font-semibold');
                        btn.classList.add('bg-gray-100');
                    });

                    button.classList.add('bg-emerald-200', 'text-emerald-800', 'font-semibold');
                    button.classList.remove('bg-gray-100');
                });
            });
        });
    </script>

</body>
</html>


