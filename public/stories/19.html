<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Suri la Suricata y el Dragón de Sombra</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .story-title { font-family: 'Lora', serif; }
        .story-content { font-family: 'Lora', serif; }

        /* Custom styles for the range input (seek bar) */
        .seek-slider {
            -webkit-appearance: none;
            appearance: none;
            width: 100%;
            height: 5px;
            background: #d1fae5;
            outline: none;
            opacity: 0.8;
            transition: opacity .2s;
            border-radius: 5px;
            cursor: pointer;
        }

        .seek-slider:hover {
            opacity: 1;
        }

        .seek-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            background: #10b981;
            border-radius: 50%;
        }

        .seek-slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            background: #10b981;
            border: none;
            border-radius: 50%;
        }
    </style>
</head>
<body class="bg-emerald-50 text-gray-800 pb-24">

    <div class="container mx-auto px-4 py-8 md:py-16">
        <main class="max-w-3xl mx-auto bg-white rounded-2xl shadow-lg overflow-hidden">
            <div class="p-8 md:p-12">

                <!-- Header with Title and Icon -->
                <header class="text-center mb-8">
                    <img src="../../assets/icon.png" alt="Story Image" class="w-24 h-24 rounded-full object-cover mx-auto mb-4 shadow-md border-4 border-white">
                    <h1 class="story-title text-3xl md:text-4xl font-bold text-emerald-800">Suri la Suricata y el Dragón de Sombra</h1>
                </header>

                <!-- Story Content -->
                <div class="story-content text-lg leading-relaxed text-gray-700 space-y-4">
                    
                <div class="translatable-block">
                    <p data-translation="In the great savanna lives Suri the Meerkat. Every day, Suri stands on his little mound and likes to scan the horizon. He looks to the left, he looks to the right. He is a very curious and responsible guard.">En la gran sabana vive Suri la Suricata. Todos los días, Suri se para en su pequeño montículo y le gusta explorar el horizonte con la mirada. Mira a la izquierda, mira a la derecha. Es un guardia muy curioso y responsable.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/19/images/1.png" alt="Suri la suricata explorando el horizonte en la sabana" class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="One afternoon, the sun is very low. Suri sees something strange on the ground. It is a long, dark shape that moves when he moves. It looks very thin, a sign of weakness. 'Oh, what is this poor thing?' thinks Suri. 'It looks like a baby dragon, all skinny and weak!'">Una tarde, el sol está muy bajo. Suri ve algo extraño en el suelo. Es una forma larga y oscura que se mueve cuando él se mueve. Parece muy delgada, una señal de debilidad. '¡Oh! ¿Qué es esta pobre cosa?', piensa Suri. '¡Parece un bebé dragón, todo flaquito y débil!'</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/19/images/2.png" alt="Suri mirando con sorpresa su propia sombra larga, que parece un dragón" class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Suri feels great compassion. He has faith that he must help the little creature. 'Don't worry, little dragon,' says Suri to the shadow. 'I will help you find your family. I will call you Flaquito.' And so, his great adventure begins.">Suri siente una gran compasión. Tiene fe en que debe ayudar a la pequeña criatura. 'No te preocupes, dragoncito', le dice Suri a la sombra. 'Te ayudaré a encontrar a tu familia. Te llamaré Flaquito'. Y así, comienza su gran aventura.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="First, Suri finds his friend, Corina the Parrot. 'Corina, come with me! I am helping a lost baby dragon.' Corina is very surprised. 'A dragon? I want to see it!' she says, and she joins the mission.">Primero, Suri encuentra a su amiga, Corina la Cotorra. '¡Corina, ven conmigo! Estoy ayudando a un bebé dragón perdido'. Corina está muy sorprendida. '¿Un dragón? ¡Quiero verlo!', dice ella, y se une a la misión.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/19/images/3.png" alt="Suri el suricata hablando con Corina la cotorra y Leo el lémur." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Then, they see Leo the Lemur. 'Leo, join our quest! We are taking this weak little dragon back to its family,' says Suri. Leo looks at the strange shadow on the ground. 'How exciting! I'm coming with you!' says Leo.">Luego, ven a Leo el Lémur. '¡Leo, únete a nuestra búsqueda! Llevamos a este débil dragoncito con su familia', dice Suri. Leo mira la extraña sombra en el suelo. '¡Qué emocionante! ¡Voy con ustedes!', dice Leo.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Finally, they meet Armando the Armadillo. 'Armando, we need your bravery! We are on a mission of faith to help this baby dragon,' explains Suri. Armando puffs out his chest. 'For a dragon! Of course! I will protect him!' And the four friends march together, with the silent 'dragon' always following Suri.">Finalmente, conocen a Armando el Armadillo. '¡Armando, necesitamos tu valentía! Estamos en una misión de fe para ayudar a este bebé dragón', explica Suri. Armando saca el pecho. '¡Por un dragón! ¡Claro! ¡Yo lo protegeré!'. Y los cuatro amigos marchan juntos, con el 'dragón' silencioso siempre siguiendo a Suri.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/19/images/4.png" alt="El grupo de animales caminando juntos en una aventura al atardecer." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="They walk and walk until it is completely dark. They arrive at Suri's burrow. Suddenly, Flaquito the dragon disappears! 'Oh no! Where did he go?' cries Suri, worried.">Caminan y caminan hasta que es completamente de noche. Llegan a la madriguera de Suri. De repente, ¡el dragón Flaquito desaparece! '¡Oh, no! ¿A dónde fue?', llora Suri, preocupado.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Just then, Suri's wife, Sara the Meerkat, comes out of the burrow. She is very wise. 'Suri, what's wrong? Why are all our friends here?' Suri explains everything about the poor, weak baby dragon that has vanished.">En ese momento, la esposa de Suri, Sara la Suricata, sale de la madriguera. Ella es muy sabia. 'Suri, ¿qué pasa? ¿Por qué están todos nuestros amigos aquí?'. Suri le explica todo sobre el pobre y débil bebé dragón que ha desaparecido.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        
                <div class="translatable-block">
                    <p data-translation="Sara smiles gently. She goes inside and brings out a lantern. 'Look,' she says, holding the light near Suri. On the wall of the burrow, a dark shape appears. 'That isn't a dragon, my dear. It's your shadow. It's just a place where the light can't go.'">Sara sonríe con ternura. Entra y saca un farol. 'Mira', dice, sosteniendo la luz cerca de Suri. En la pared de la madriguera, aparece una forma oscura. 'Eso no es un dragón, mi amor. Es tu sombra. Es solo un lugar a donde no llega la luz'.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                        <img src="../../assets/stories/19/images/5.png" alt="Sara la suricata sabia explicando qué es una sombra con un farol." class="w-full md:w-2/3 mx-auto aspect-video object-cover rounded-lg shadow-md my-6 md:my-8">
                        
                <div class="translatable-block">
                    <p data-translation="Suri, Corina, Leo, and Armando look at the shadow, then at the lantern, and then at each other. They start to laugh. It wasn't a dragon! It was just a shadow. They feel a little silly, but they are happy to have learned something new together.">Suri, Corina, Leo y Armando miran la sombra, luego el farol y luego se miran entre ellos. Comienzan a reír. ¡No era un dragón! Era solo una sombra. Se sienten un poco tontos, pero están felices de haber aprendido algo nuevo juntos.</p>
                    <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                    <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                </div>
                </div>

                <!-- Moral of the Story -->
                <footer class="mt-10 pt-6 border-t-2 border-emerald-100 text-center">
                    
                        <div class="translatable-block">
                            <p class="story-title text-xl italic text-emerald-700 font-semibold" data-translation="It is good to have faith, but it is wiser to seek knowledge first.">Es bueno tener fe, pero es más sabio buscar primero el conocimiento.</p>
                            <button class="translate-btn mt-2 px-3 py-1 bg-emerald-500 text-white text-sm rounded-md hover:bg-emerald-600 transition-colors focus-outline-none focus:ring-2 focus:ring-emerald-400">Traducir</button>
                            <p class="translation-text hidden mt-2 text-sky-700 italic bg-sky-50 p-3 rounded-md"></p>
                        </div>
                </footer>
            </div>
        </main>
    </div>

    <!-- Sticky Audio Player -->
    <div class="fixed bottom-0 left-0 right-0 z-50 bg-white/90 backdrop-blur-sm border-t border-gray-200">
        <div class="max-w-3xl mx-auto px-4 py-3">
             <!-- Audio element (hidden from view, controlled by JS) -->
            <audio id="audio-player" src="../../assets/stories/19/audio/story.mp3" preload="metadata"></audio>

            <!-- Custom Player Controls -->
            <div class="flex items-center gap-2 md:gap-4">
                <!-- Play/Pause Button -->
                <button id="play-pause-btn" class="flex-shrink-0 text-emerald-600 hover:text-emerald-800 transition-colors p-2 rounded-full hover:bg-emerald-100 focus:outline-none">
                    <svg id="play-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8.006v3.988a1 1 0 001.555.836l3.492-1.994a1 1 0 000-1.672l-3.492-1.994z" />
                    </svg>
                    <svg id="pause-icon" xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 hidden" fill="currentColor" viewBox="0 0 20 20">
                      <path d="M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1H8zm4 0a1 1 0 00-1 1v4a1 1 0 001 1h1a1 1 0 001-1V8a1 1 0 00-1-1h-1z" />
                    </svg>
                </button>

                <!-- Progress Bar and Time -->
                <div class="flex items-center gap-2 w-full">
                    <span id="current-time" class="text-xs text-gray-600 font-mono w-10 text-center">0:00</span>
                    <input type="range" id="seek-slider" class="seek-slider w-full" value="0" step="1">
                    <span id="duration" class="text-xs text-gray-600 font-mono w-10 text-center">0:00</span>
                </div>
                
                <!-- Speed Controls -->
                <div class="flex items-center space-x-1 flex-shrink-0">
                     <button data-speed="0.75" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">0.75x</button>
                     <button data-speed="1" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-emerald-200 text-emerald-800 font-semibold transition-colors">1x</button>
                     <button data-speed="1.5" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">1.5x</button>
                     <button data-speed="2" class="speed-btn w-12 px-2 py-1 text-xs rounded-md bg-gray-100 hover:bg-emerald-100 transition-colors">2x</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Translation Logic ---
            const translateButtons = document.querySelectorAll('.translate-btn');
            translateButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const block = button.closest('.translatable-block');
                    const originalTextElement = block.querySelector('[data-translation]');
                    const translationTextElement = block.querySelector('.translation-text');
                    const translation = originalTextElement.getAttribute('data-translation');

                    if (translationTextElement.classList.contains('hidden')) {
                        translationTextElement.innerHTML = translation;
                        translationTextElement.classList.remove('hidden');
                        button.textContent = 'Ocultar';
                    } else {
                        translationTextElement.classList.add('hidden');
                        button.textContent = 'Traducir';
                    }
                });
            });

            // --- Modern Audio Player Logic ---
            const audioPlayer = document.getElementById('audio-player');
            const playPauseBtn = document.getElementById('play-pause-btn');
            const playIcon = document.getElementById('play-icon');
            const pauseIcon = document.getElementById('pause-icon');
            const seekSlider = document.getElementById('seek-slider');
            const currentTimeEl = document.getElementById('current-time');
            const durationEl = document.getElementById('duration');
            const speedButtons = document.querySelectorAll('.speed-btn');

            const formatTime = (seconds) => {
                if (isNaN(seconds)) return '0:00';
                const minutes = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${minutes}:${secs.toString().padStart(2, '0')}`;
            };

            // Update UI when audio metadata is loaded
            audioPlayer.addEventListener('loadedmetadata', () => {
                durationEl.textContent = formatTime(audioPlayer.duration);
                seekSlider.max = audioPlayer.duration;
            });

            // Play/Pause functionality
            playPauseBtn.addEventListener('click', () => {
                if (audioPlayer.paused) {
                    audioPlayer.play();
                } else {
                    audioPlayer.pause();
                }
            });

            audioPlayer.addEventListener('play', () => {
                playIcon.classList.add('hidden');
                pauseIcon.classList.remove('hidden');
            });

            audioPlayer.addEventListener('pause', () => {
                playIcon.classList.remove('hidden');
                pauseIcon.classList.add('hidden');
            });

            // Update slider and time as audio plays
            audioPlayer.addEventListener('timeupdate', () => {
                seekSlider.value = audioPlayer.currentTime;
                currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
            });

            // Seek functionality
            seekSlider.addEventListener('input', () => {
                audioPlayer.currentTime = seekSlider.value;
            });

            // Speed control functionality
            speedButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const speed = parseFloat(button.dataset.speed);
                    audioPlayer.playbackRate = speed;

                    // Update button active styles
                    speedButtons.forEach(btn => {
                        btn.classList.remove('bg-emerald-200', 'text-emerald-800', 'font-semibold');
                        btn.classList.add('bg-gray-100');
                    });

                    button.classList.add('bg-emerald-200', 'text-emerald-800', 'font-semibold');
                    button.classList.remove('bg-gray-100');
                });
            });
        });
    </script>

</body>
</html>


